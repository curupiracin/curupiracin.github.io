<!DOCTYPE html>
<html lang="pt">

<head>
  <meta name="viewport" content="initial-scale=1.0, width=device-width" />
  <script src="http://js.api.here.com/v3/3.0/mapsjs-core.js"
    type="text/javascript" charset="utf-8"></script>
  <script src="http://js.api.here.com/v3/3.0/mapsjs-service.js"
    type="text/javascript" charset="utf-8"></script>
  <meta charset="utf-8" />
  <link rel="apple-touch-icon" sizes="76x76" href="assets/img/fire.png">
  <link rel="icon" type="image/png" href="assets/img/fire.png">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    Curupira
  </title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
  <!-- CSS Files -->
  <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
  <link href="assets/css/paper-dashboard.css?v=2.0.0" rel="stylesheet" />
  <!-- CSS Just for demo purpose, don't include it in your project -->
  <link href="assets/demo/demo.css" rel="stylesheet" />
  <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.js"></script>

  <script>          
    var color_array = ['rgb(220,35,154,0.8)', 'rgb(239,16,72,0.8)', 'rgb(0,255,154,0.8)',
   'rgb(0,152,255,0.8)', 'rgb(249,255,0,0.8)', 'rgb(136,42,213,0.8)', 'rgb(255,159,0,0.8)']

    var ctx_temperature, data_temperature, graf_temperature
    var ctx_umidity, data_umidity, graf_umidity
    var ctx_wind, data_wind, graf_wind
    var ctx_fwi, data_fwi, graf_fwi
    var ctx_battery, data_battery, graf_battery
    var ctx_pluviosity, data_pluviosity, graf_pluviosity

    function addData(chart, label, color, data, labels) {     
      chart.data.datasets.push({
        label: label,
        backgroundColor: color,
        borderColor: color,
        data: data,
        fill: false
      });
      chart.data.labels = labels
      chart.update();
    }
    
    function chartUpdate(data, qtdData){      
      var temperature_fb = []
      var umidity_fb = []
      var fwi_fb = []
      var battery_fb = []
      var pluviosity_fb = []
      var wind_speed_fb = []
      var labels_fb = []
      var label_fb
      var newColor
      ref_graph = firebase.database().ref('Curupira/Nodes/' + data.key + '/sensoriamento');
      ref_graph.orderByKey().limitToLast(qtdData).on('value', function (graph_data) {   
        graph_data.forEach(function (dado) {         
          temperature_fb.push(dado.val().temperatura)
          umidity_fb.push(dado.val().umidade)   
          fwi_fb.push(dado.val().fwi)
          battery_fb.push(dado.val().bateria)     
          pluviosity_fb.push(dado.val().pluviosidade)
          wind_speed_fb.push(dado.val().vel_do_vento)               
          label_fb = data.key;
          labels_fb.push(("00" + dado.val().hora.toString()).slice(-2) + " : " + ("00" + dado.val().minuto.toString()).slice(-2))
        });        
      });
      var data = new Date();
      //Pegar a data, para casar com os valores
      switch(qtdData){
        case 'day' :          
          labels_fb = ['00:00', '08:00', '16:00', '23:59']
        case 'week' :
          labels_fb = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']          
        case 'month' : 
          labels_fb = ['10', '20', '30']
        case 'year' :
          labels_fb = ['', '20', '30']
      }
      

      var labels = []

      for(var k = 0 ; k < graf_temperature.data.datasets.length ; k++)
        labels.push(graf_temperature.data.datasets[k].label)      

      if(labels.indexOf(data.key) == -1){
        newColor = color_array[label_fb[label_fb.length-1] % color_array.length];
        addData(graf_temperature, label_fb, newColor, temperature_fb, labels_fb)
        addData(graf_umidity, label_fb, newColor, umidity_fb, labels_fb)
        addData(graf_pluviosity, label_fb, newColor, pluviosity_fb, labels_fb)
        addData(graf_battery, label_fb, newColor, battery_fb, labels_fb)
        addData(graf_wind, label_fb, newColor, wind_speed_fb, labels_fb)   
        addData(graf_fwi, label_fb, newColor, fwi_fb, labels_fb)
      }
			
    }
  
    function chartUpdateSize(chart, qtdData, info_type){
      var label_resize = []
      var info_fb = []
      var labels_fb = []
      var newColor
      for(var k = 0; k < chart.data.datasets.length; k++)
        label_resize.push(chart.data.datasets[k].label)
      
      chart.data.datasets = []
      
      for(var k = 0; k < label_resize.length; k++){
        info_fb = []
        labels_fb = []
        ref_graph = firebase.database().ref('Curupira/Nodes/' + label_resize[k] + '/sensoriamento');
        ref_graph.orderByKey().limitToLast(qtdData).on('value', function (graph_data) {   
          graph_data.forEach(function (dado) {              
            info_fb.push(dado.val()[info_type])
            labels_fb.push(("00" + dado.val().hora.toString()).slice(-2) + " : " + ("00" + dado.val().minuto.toString()).slice(-2))
          });        
        });
        newColor = color_array[label_resize[k][label_resize[k].length-1] % color_array.length];       
        addData(chart, label_resize[k], newColor, info_fb, labels_fb)
      }
    }  
    
    //tenho que iniciar essa função
    $(function () {
      ctx_temperature = document.getElementById("id_graf_temperature").getContext('2d');
      ctx_umidity = document.getElementById("id_graf_umidity").getContext('2d');
      ctx_wind = document.getElementById("id_graf_wind").getContext('2d');
      ctx_fwi = document.getElementById("id_graf_fwi").getContext('2d');
      ctx_battery = document.getElementById("id_graf_battery").getContext('2d');
      ctx_pluviosity = document.getElementById("id_graf_pluviosity").getContext('2d');
   
      function config_chart(y_string){
        return {
          type: 'line',         
          options: {            
            scales: {
              yAxes: [{
                scaleLabel: {
                  display: true,
                  labelString: y_string 
                }
              }],
              xAxes: [{
                ticks: {
                    autoSkip: true,
                    maxTicksLimit: 5
                },
                scaleLabel: {
                  display: true
                }
              }]
            },
            responsive: true,
            maintainAspectRatio: false,
            legend: {
              position: 'top',
              align: 'center',
              usePointStyle: true,
              labels: {
                boxWidth: 12
              }
            },
            legend: {
              display: true,
              position: 'top',
              align: 'start',
              labels: {
                  usePointStyle: true,
                  padding: 20,
                  boxWidth: 6,
                  fontSize: 14,
                  fontStyle: 'bold'
              }
            },
            tooltips: {
              position: 'nearest',
              mode: 'index',
              intersect: false,
            },
            elements: {
                point: {
                  pointStyle: 'circle',
                  radius: 1
                }
            }
          }
        }
      }
      
      graf_temperature = new Chart(ctx_temperature, config_chart('Temperature (ºC)'));
      graf_umidity = new Chart(ctx_umidity, config_chart('Humidity (%)'));
      graf_battery = new Chart(ctx_battery, config_chart('Voltage (v)'));
      graf_fwi = new Chart(ctx_fwi, config_chart(''));
      graf_pluviosity = new Chart(ctx_pluviosity, config_chart('Rainfall (mm)'));
      graf_wind = new Chart(ctx_wind, config_chart('Wind Speed (km/h)'));
    });

  </script>  
</head>

<body class="">
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/5.5.9/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.5.9/firebase-database.js"></script>
  
  <script> // Initialize Firebase   
    var config = {
      apiKey: "AIzaSyCFXxCK9mvifw7ATUpI6GxF2ZdUa5NgItk",
      authDomain: "curupira-cin.firebaseapp.com",
      databaseURL: "https://curupira-cin.firebaseio.com",
      projectId: "curupira-cin",
      storageBucket: "",
      messagingSenderId: "355244565209",
      appId: "1:355244565209:web:23440696e2082421"
    };
              
    firebase.initializeApp(config);    
  
    function envia_firebase(){
      var novo_periodo = parseInt(document.getElementById("intervalo").value.toString(), 10);
      var timeInterval1 = firebase.database().ref("Curupira");
      var valInterval1 = {timeInterval : novo_periodo}
      timeInterval1.update(valInterval1);
      document.getElementById("intervalo").value = "";    
    }

    function newNode () {
      var newId = parseInt(document.getElementById("NewNodeId").value.toString(), 10);
      var newLatitude = parseFloat(document.getElementById("latitude").value.toString(), 10);
      var newLongitude = parseFloat(document.getElementById("longitude").value.toString(), 10);
      var newPath = firebase.database().ref("Curupira/Nodes/node-" + newId);
      var valPath = {
        id : newId,
        latitude : newLatitude,
        longitude : newLongitude
      }
      newPath.update(valPath);
      document.getElementById("NewNodeId").value = "";
      document.getElementById("latitude").value = "";
      document.getElementById("longitude").value = "";
    }
  </script>

  <div class="main-panel">
    <!-- Navbar -->  
    <nav class="navbar navbar-expand-lg navbar-absolute fixed-top navbar-transparent">
      <div class="container-fluid">
        <div class="navbar-wrapper">
          <a class="navbar-brand">Curupira</a>
        </div>
      </div>
    </nav>
    <!-- End Navbar -->
    <div class="content">
      <div style="height: 100%; width: 100%;">
        <!-- Map -->
        <div class="row">
          <div class="col-md-12">
            <div class="card ">
              <div class="card-body ">
                <col>
                  <row>
                    <div style="width: 100%; height: 500px;" id="map"></div>
                  </row>
                </col> 
                <script> 
                  // markers array to store all the markers, so that we could remove marker when any car goes offline and its data will be remove from realtime database...
                  var markers = [];
                  var map;
                  var last_ref;
                  var nodeGlobal;
                  
                  var ref_node = firebase.database().ref('Curupira/Nodes');                    
                  ref_node.orderByKey().on('child_added', function (nodes) { // Lista de nós                                        
                    
                    var ref_node_info = firebase.database().ref('Curupira/Nodes/' + nodes.key);
                    ref_node_info.orderByKey().on('value', function (keys) { // Informações de um nó      
                      
                      if(keys.val().latitude && keys.val().longitude){ // Adicionando marcador ao mapa
                        AddMarker(keys);
                        printInfo(keys);
                       // chartUpdate(keys,12);
                        nodeGlobal = keys;                       
                      }    
                    });                      
                  });

                  function initMap() { // Google Map Initialization...                                        
                    map = new google.maps.Map(document.getElementById('map'), {
                      zoom: 20,
                      gestureHandling: 'greedy',
                      streetViewControl: false,
                      styles : [{
                        featureType: "poi",
                        stylers: [{
                            visibility: "off" 
                        }]}],
                      center: new google.maps.LatLng(-5.832281, -35.205511),
                      mapTypeId: 'roadmap'
                    });

                    map.addListener('click', function (local) {
                    document.getElementById("latitude").value = local.latLng.lat();
                    document.getElementById("longitude").value = local.latLng.lng();

                  });
                  }
      
                  function AddMarker (data) {
                    var position = { lat: data.val().latitude, lng: data.val().longitude};
                    
                    var marker = new google.maps.Marker({                             
                        position: position,
                        title:data.key.toString(),                     
                        map: map
                    });

                    markers[data.key] = marker; // add marker in the markers array... 
                    marker.addListener('click', function () {
                      printInfo(data);
                      chartUpdate(data, 12);
                      nodeGlobal = data;
                    });                      
                  }

                  function printInfo (data) {
                      if(last_ref){
                        last_ref.orderByKey().limitToLast(1).off('value', func_att_data);                  
                      } 
                      var ref_node_sensor = firebase.database().ref('Curupira/Nodes/' + data.key + '/sensoriamento');
                      var func_att_data = function (sensores) {  //Sensoriamento 
                        sensores.forEach(function(dado) {                      
                          document.getElementById("Temperatura").innerHTML = dado.val().temperatura.toString().substr(0, 5) + "°C";
                          document.getElementById("Umidade").innerHTML = dado.val().umidade.toString().substr(0, 5) + "%";
                          document.getElementById("velocidadeVento").innerHTML = dado.val().vel_do_vento.toString().substr(0, 5) + "Km/h";
                          document.getElementById("risco").innerHTML = dado.val().fwi.toString().substr(0, 5);        
                          document.getElementById("pluviosidade").innerHTML = dado.val().pluviosidade.toString().substr(0, 5) + "mm";
                          document.getElementById("fumaca").innerHTML = dado.val().fumaca == 1 ? "With smoke":"Smokeless";

                          document.getElementById("ultima_att_hora").innerHTML = ("00" + dado.val().hora.toString()).slice(-2) + " : " + ("00" + dado.val().minuto.toString()).slice(-2);
                          document.getElementById("ultima_att_data").innerHTML = ("00" + dado.val().dia.toString()).slice(-2) + "/" + ("00" + dado.val().mes.toString()).slice(-2);

                          document.getElementById("noSelec").innerHTML = dado.val().id.toString();
                          document.getElementById("statusNode").innerHTML = dado.val().alive == 1 ? "ONLINE" : "OFFLINE";
                          var valorFuma = parseInt(dado.val().fumaca, 10);
                          alteraFuma(valorFuma);
                          if (dado.val().alive == 1) {
                            document.getElementById("statusNode").style.color = 'green';
                          }
                          else {
                            document.getElementById("statusNode").style.color = 'red';
                          }
                          document.getElementById("nivelBateria").innerHTML = dado.val().bateria.toString() + " v";
                          document.getElementById("msgBateria").innerHTML = parseFloat(dado.val().bateria.toString(), 10) > 3.5 ? "Normal battery level" : "Low battery level";
                          var valorRisco = parseFloat(dado.val().fwi.toString().substr(0, 5), 10);
                          alteraDiv(valorRisco);
                        });

                        function alteraFuma (valorFuma) {
                          if (valorFuma == 1) {
                              document.getElementById('fumaBack').style.backgroundColor = 'red';
                          }
                          else {
                              document.getElementById('fumaBack').style.backgroundColor = '#E6E6E6';
                          }
                        }

                        function alteraDiv (valorRisco) {
                          if (valorRisco < 8) {
                            document.getElementById('testeBack').style.backgroundColor = '#8CFE84';
                            document.getElementById("fraseRisco").innerHTML = "Low Risk";
                            document.getElementById("fraseRisco").style.color = 'black';
                          }
                          else if (valorRisco < 16) {
                            document.getElementById('testeBack').style.backgroundColor = '#FBFF4A';
                            document.getElementById("fraseRisco").innerHTML = "Moderate Risk";
                            document.getElementById("fraseRisco").style.color = 'black';
                          }
                          else if (valorRisco < 24) {
                            document.getElementById('testeBack').style.backgroundColor = '#F8B01E';
                            document.getElementById("fraseRisco").innerHTML = "High risk, attention!";
                            document.getElementById("fraseRisco").style.color = 'black';
                          }
                          else if (valorRisco < 33) {
                            document.getElementById('testeBack').style.backgroundColor = '#F24A1B';
                            document.getElementById("fraseRisco").innerHTML = "High risk, attention!!!";
                            document.getElementById("fraseRisco").style.color = 'white';
                          }
                          else if (valorRisco < 41) {
                            document.getElementById('testeBack').style.backgroundColor = '#D10111';
                            document.getElementById("fraseRisco").innerHTML = "Very high risk, check the area!";
                            document.getElementById("fraseRisco").style.color = 'white';
                          }
                          else {
                            document.getElementById('testeBack').style.backgroundColor = '#AE000A';
                            document.getElementById("fraseRisco").innerHTML = "Very high risk, check the area!!!";
                            document.getElementById("fraseRisco").style.color = 'white';
                          }
                        }                         
                      }
                      last_ref = ref_node_sensor;
                      ref_node_sensor.orderByKey().limitToLast(1).on('value', func_att_data);
                  }

                </script>
                <!--  Google Maps Plugin    -->
                <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBftlLZg9rAwLppSdyGTcHAikIaNb9YUJw&callback=initMap"></script>
              </div>                  
            </div>
          </div>
        </div>
        <!-- End Map -->

        <!-- Basic Info Node -->
        <div class="row">

          <div class="col-lg-3 col-md-6 col-sm-6">
            <div class="card card-stats" id="testeBack">
              <div class="card-body ">
                <div class="row">
                  <div class="col-5 col-md-4">
                    <div class="icon-big text-center icon-warning">
                      <i><img width="42px" height="42px" src="assets/img/fire.png"/></i>
                    </div>
                  </div>
                  <div class="col-7 col-md-8">
                    <div class="numbers">
                      <p class="card-category">Fire Weather Index</p>
                      <p class="card-title"><p id="risco"></p>
                    </p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-footer ">
                <hr>
                <div class="stats">
                  <i class="fa fa-refresh"></i> <span id = "fraseRisco"></span>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 col-sm-6">
            <div class="card card-stats" id="fumaBack">
              <div class="card-body ">
                <div class="row">
                  <div class="col-5 col-md-4">
                    <div class="icon-big text-center icon-warning">
                      <i><img width="42px" height="42px" src="assets/img/forest-fire.png"/></i>
                    </div>
                  </div>
                  <div class="col-7 col-md-8">
                    <div class="numbers">
                      <p class="card-category">Smoke Status</p>
                      <p class="card-title" id = 'fumaca'><p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-footer ">
                <hr>
                <div class="stats">
                  <i></i>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 col-sm-6">
            <div class="card card-stats">
              <div class="card-body ">
                <div class="row">
                  <div class="col-5 col-md-4">
                    <div class="icon-big text-center icon-warning">
                      <i><img width="42px" height="42px" src="assets/img/id-card.png"/></i>
                    </div>
                  </div>
                  <div class="col-7 col-md-8">
                    <div class="numbers">
                      <p class="card-category">Selected Node</p>
                      <p class="card-title">
                        <p id="noSelec"></p>
                      </p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-footer ">
                <hr>
                <div class="stats">
                  <i class="fa fa-refresh"></i> Last updated on <span id="ultima_att_data"> __/__ </span> at <span id="ultima_att_hora"> -- : -- </span>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 col-sm-6">
            <div class="card card-stats">
              <div class="card-body ">
                <div class="row">
                  <div class="col-5 col-md-4">
                    <div class="icon-big text-center icon-warning">
                      <i><img width="42px" height="42px" src="assets/img/list.png"/></i>
                    </div>
                  </div>
                  <div class="col-7 col-md-8">
                    <div class="numbers">
                      <p class="card-category">Node Status</p>
                      <p class="card-title">
                        <p id="statusNode"></p>
                      </p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-footer ">
                <hr>
                <div class="stats">
                  <i></i>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 col-sm-6">
            <div class="card card-stats">
              <div class="card-body ">
                <div class="row">
                  <div class="col-5 col-md-4">
                    <div class="icon-big text-center icon-warning">
                      <i><img width="42px" height="42px" src="assets/img/empty.png"/></i>
                    </div>
                  </div>
                  <div class="col-7 col-md-8">
                    <div class="numbers">
                      <p class="card-category">Battery Level</p>
                      <p class="card-title">
                        <p id="nivelBateria"></p>
                      </p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-footer ">
                <hr>
                <div class="stats">
                  <i></i> <span id="msgBateria"> </span>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 col-sm-6">
            <div class="card card-stats">
              <div class="card-body ">
                <div class="row">
                  <div class="col-5 col-md-4">
                    <div class="icon-big text-center icon-warning">
                      <i><img width="42px" height="42px" src="assets/img/temperature.png"/></i>
                    </div>
                  </div>
                  <div class="col-7 col-md-8">
                    <div class="numbers">
                      <p class="card-category">Temperature</p>
                      <p class="card-title" id = 'Temperatura'><p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-footer ">
                <hr>
                <div class="stats">
                  <i></i>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 col-sm-6">
            <div class="card card-stats">
              <div class="card-body ">
                <div class="row">
                  <div class="col-5 col-md-4">
                    <div class="icon-big text-center icon-warning">
                      <i><img width="42px" height="42px" src="assets/img/humidity.png"/></i>
                    </div>
                  </div>
                  <div class="col-7 col-md-8">
                    <div class="numbers">
                      <p class="card-category">Relative Humidity</p>
                      <p class="card-title" id = 'Umidade'><p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-footer ">
                <hr>
                <div class="stats">
                  <i></i>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 col-sm-6">
            <div class="card card-stats">
              <div class="card-body ">
                <div class="row">
                  <div class="col-5 col-md-4">
                    <div class="icon-big text-center icon-warning">
                      <i><img width="42px" height="42px" src="assets/img/windy.png"/></i>
                    </div>
                  </div>
                  <div class="col-7 col-md-8">
                    <div class="numbers">
                      <p class="card-category">Wind Speed</p>
                      <p class="card-title" id = 'velocidadeVento'><p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-footer ">
                <hr>
                <div class="stats">
                  <i></i>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 col-sm-6">
            <div class="card card-stats">
              <div class="card-body ">
                <div class="row">
                  <div class="col-5 col-md-4">
                    <div class="icon-big text-center icon-warning">
                      <i><img width="42px" height="42px" src="assets/img/rain.png"/></i>
                    </div>
                  </div>
                  <div class="col-7 col-md-8">
                    <div class="numbers">
                      <p class="card-category">Rainfall</p>
                      <p class="card-title" id = 'pluviosidade'><p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-footer ">
                <hr>
                <div class="stats">
                  <i></i>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-9 col-md-6 col-sm-6">
            <div class="card card-stats">
              <div class="card-body ">
                <div class="row">
                  <div class="col-5 col-md-2">
                    <div class="icon-big text-center icon-warning">
                      <i><img width="42px" height="42px" src="assets/img/marker.png"/></i>
                    </div>
                  </div>
                  <div class="col-7 col-md-10">
                    <div class="numbers">
                      <p class="card-category">Add New Node</p>  
                    </div>
                   
                    <div class="row" style="padding-right: 15px;">                                 
                        <input type="text" id = "NewNodeId" class = "form-control col-lg-3 col-6" placeholder="Name"/>
                        <input type="text" id = "latitude" class = "form-control col-lg-3 col-6" placeholder="Latitude">
                        <input type="text" id = "longitude" class = "form-control col-lg-3 col-6" placeholder="Longitude">                        
          
                        <button type = "submit" class = "btn btn-primary col-lg-3 col-6"  onclick = "newNode()" style="margin: 0px; " >Add</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-footer ">
                <hr>
                <div class="stats">
                  <i></i>
                </div>
              </div>
            </div>
          </div>

        </div>

        <!-- Graficos  -->
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-12">            
            <div class="card card-stats">
              <div class="card-header ">
                <div class="row">
                  <div class="col-12">
                    Fire Weather Index
                  </div>
                </div>
              </div>
              <div class="card-body ">
                <div class="row">
                  <div class="col-12">
                    <canvas id="id_graf_fwi" style="min-height: 250px; min-width: auto;"></canvas>
                  </div>
                </div>
              </div>
              <div class="card-footer ">
                <div class="row">
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_fwi, 12,'fwi')">Day</button> 
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_fwi, 12*7,'fwi')">Week</button> 
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_fwi, 12*30,'fwi')">Month</button> 
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_fwi, 12*365,'fwi')">Year</button>   
                </div>
                <div class="stats">
                  <i></i>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-6 col-md-6 col-sm-12">            
            <div class="card card-stats">
              <div class="card-header ">
                <div class="row">
                  <div class="col-12">
                    Temperature
                  </div>
                </div>
              </div>
              <div class="card-body ">
                <div class="row">
                  <div class="col-12">
                    <canvas id="id_graf_temperature" style="min-height: 250px; min-width: auto;"></canvas>
                  </div>
                </div>
              </div>
              <div class="card-footer ">
                <div class="row">
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_temperature, 12,'temperatura')">Day</button> 
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_temperature, 12*7,'temperatura')">Week</button> 
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_temperature, 12*30,'temperatura')">Month</button> 
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_temperature, 12*365,'temperatura')">Year</button>   
                </div>
                <div class="stats">
                  <i></i>
                </div>
              </div>
            </div>
          </div>  
        
          <div class="col-lg-6 col-md-6 col-sm-12">            
            <div class="card card-stats">
              <div class="card-header ">
                <div class="row">
                  <div class="col-12">
                    Relative Humidity
                  </div>
                </div>
              </div>
              <div class="card-body ">
                <div class="row">
                  <div class="col-12">
                    <canvas id="id_graf_umidity" style="min-height: 250px; min-width: auto;"></canvas>
                  </div>
                </div>
              </div>
              <div class="card-footer ">
                <div class="row">
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_umidity, 12,'umidade')">Day</button> 
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_umidity, 12*7,'umidade')">Week</button> 
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_umidity, 12*30,'umidade')">Month</button> 
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_umidity, 12*365,'umidade')">Year</button>   
                </div>
                <div class="stats">
                  <i></i>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-6 col-md-6 col-sm-12">            
            <div class="card card-stats">
              <div class="card-header ">
                <div class="row">
                  <div class="col-12">
                    Battery Voltage
                  </div>
                </div>
              </div>
              <div class="card-body ">
                <div class="row">
                  <div class="col-12">
                    <canvas id="id_graf_battery" style="min-height: 250px; min-width: auto;"></canvas>
                  </div>
                </div>
              </div>
              <div class="card-footer ">
                <div class="row">
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_battery, 12,'bateria')">Day</button> 
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_battery, 12*7,'bateria')">Week</button> 
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_battery, 12*30,'bateria')">Month</button> 
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_battery, 12*365,'bateria')">Year</button>   
                </div>
                <div class="stats">
                  <i></i>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-6 col-md-6 col-sm-12">            
            <div class="card card-stats">
              <div class="card-header ">
                <div class="row">
                  <div class="col-12">
                    Rainfall
                  </div>
                </div>
              </div>
              <div class="card-body ">
                <div class="row">
                  <div class="col-12">
                    <canvas id="id_graf_pluviosity" style="min-height: 250px; min-width: auto;"></canvas>
                  </div>
                </div>
              </div>
              <div class="card-footer ">
                <div class="row">
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_pluviosity, 12,'pluviosidade')">Day</button> 
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_pluviosity, 12*7,'pluviosidade')">Week</button> 
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_pluviosity, 12*30,'pluviosidade')">Month</button> 
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_pluviosity, 12*365,'pluviosidade')">Year</button>   
                </div>
                <div class="stats">
                  <i></i>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-6 col-md-6 col-sm-12">            
            <div class="card card-stats">
              <div class="card-header ">
                <div class="row">
                  <div class="col-12">
                    Wind Speed
                  </div>
                </div>
              </div>
              <div class="card-body ">
                <div class="row">
                  <div class="col-12">
                    <canvas id="id_graf_wind" style="min-height: 250px; min-width: auto;"></canvas>
                  </div>
                </div>
              </div>
              <div class="card-footer ">
                <div class="row">
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_wind, 12,'vel_do_vento')">Day</button> 
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_wind, 12*7,'vel_do_vento')">Week</button> 
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_wind, 12*30,'vel_do_vento')">Month</button> 
                  <button class="btn btn-outline-primary col-3" onclick="chartUpdateSize(graf_wind, 12*365,'vel_do_vento')">Year</button>   
                </div>
                <div class="stats">
                  <i></i>
                </div>
              </div>
            </div>
          </div>
          
        </div>
        <!-- Fim Graficos  -->
      
      </div>
    </div>
    <footer class="footer footer-black  footer-white ">
      <div class="container-fluid">
        <div class="row">
          <nav class="footer-nav">
            <ul>
              
            </ul>
          </nav>
          <div class="credits ml-auto">
            <span class="copyright">
              ©
              <script>
                document.write(new Date().getFullYear())
              </script>, Curupira
            </span>
          </div>
        </div>
      </div>
    </footer>
  </div>
 
  <!-- Chart.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.js"></script>

  <!--   Core JS Files   -->
  <script src="assets/js/core/jquery.min.js"></script>
  <script src="assets/js/core/popper.min.js"></script>
  <script src="assets/js/core/bootstrap.min.js"></script>
  <script src="assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
  
  <!--  Notifications Plugin    -->
  <script src="assets/js/plugins/bootstrap-notify.js"></script>
  <!-- Control Center for Now Ui Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="assets/js/paper-dashboard.min.js?v=2.0.0" type="text/javascript"></script>
  <!-- Paper Dashboard DEMO methods, don't include it in your project! -->
  <script src="assets/demo/demo.js"></script>
  <script>
    $(document).ready(function() {
      // Javascript method's body can be found in assets/assets-for-demo/js/demo.js
      //demo.initChartsPages(); // Barrei pq tava dando algum erro kk
    });
  </script>
</body>

</html>
